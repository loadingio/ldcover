order = 0 1 2 ldcv ldcv-bg ldcv-base ldcv-inner
.ldcv
  position: fixed
  top: 0
  left: 0
  //- Even with visibility: hidden, nodes under ldcv are still covered by ldcv and thus not clickable
  //- if there are content inside ldcv. so, we use z-index too to control it's z order.
  z-index: -1
  width: 100%
  height: 100%
  opacity: 0
  text-align: center
  perspective: 1024px
  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out
  visibility: hidden
  &:before
    content: " "
    display: block
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    background: rgba(0,0,0,.5)
  //- this is for vertical aligning .base
  &:after
    content: " "
    display: inline-block
    height: 100%
    width: 0px
    vertical-align: middle
    margin-right: -0.25em

//- z-index will be update by script. we ensure it will be greater than 0 here.
.ldcv.running, .ldcv.active
  z-index: 1

.ldcv.no-shadow:before, .ldcv.bare:before
  display: none

.ldcv.active
  visibility: visible
  opacity: 1

.ldcv > .base > .inner
  width: 100%
  height: 100%
  overflow-y: scroll
  overflow-x: hidden
  border-radius: 5px
  box-shadow: 0 4px 8px rgba(0,0,0,.3)
  background: #fff
  padding: 0
  transform: translateZ(0)
  transform-origin: 50% 50%
  transition: all 0.2s ease-in-out
  & > .foot
    padding: 15px
    margin-top: 15px
    border-top: 1px solid #ddd

// transform might lead to blurry content;
// we can force remove it since when shown there should be no transform over .inner.
// to enable, pass transform-fix: true in config
// this might lead to glitch during transition in chrome. be careful.
.ldcv.shown > .base > .inner
  transform: none!important

.ldcv > .base
  text-align: left
  z-index: index(order, 'ldcv-base')
  max-width: 80%
  max-height: 90%
  display: inline-block
  vertical-align: middle

.ldcv.default-size > .base
  width: 640px
  height: 600px

.ldcv.margin-centered > .base
  position: absolute
  top: 0
  left: 0
  bottom: 0
  right: 0
  margin: auto
  transform: initial
  perspective: 300px

.ldcv.transform-centered > .base
  left: 50%
  top: 50%
  transform: translate(-50%,-50%)

.ldcv.bare
  position: absolute
  width: auto
  height: auto

.ldcv.bare > .base
  width: auto
  height: auto
  max-width: initial
  max-height: initial
  transform: initial
  top: initial
  left: initial
  right: initial
  bottom: initial
  position: absolute

.ldcv.bare > .base > .inner
  overflow: visible

.ldcv.scroll
  background: rgba(0,0,0,.5)
  overflow: scroll
  padding-top: 50px
  padding-bottom: 50px
  &:before
    display: none
  & > .base
    max-height: initial

.ldcv.light:before
  background: rgba(255,255,255,.8)
.ldcv.scroll.light
  background: rgba(255,255,255,.8)


// animation types
// default
/*
.ldcv > .base > .inner
  transform: scaleX(0.9) translateY(-40px)
.ldcv.active > .base. > .inner
  transform: scaleX(1.0) translateY(0)
*/

// flip
/*
.ldcv > .base > .inner
  transform: scaleX(0.9) rotateX(15deg)
  transition: all 0.3s ease-in-out
.ldcv.active > .base > .inner
  transform: scaleX(1.0) rotateX(0deg)
*/

.ldcv.lg > .base
  width: 960px
  height: 700px

.ldcv.md > .base
  width: 720px
  height: 500px

.ldcv.full > .base
  border: none
  border-radius: 0
  width: 100%
  height: 100%
  max-width: 100%
  max-height: 100%
  & > .inner
    border-radius: 0
